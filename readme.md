qr-verify
========

这个项目差不多算是做完了吧，反正也没啥意义。

用来给福州八中社巡点名用的，然后发现```NodeJS```的二维码库好多坑（没错，我说的就是qrcode库，Node v0.12 + VS2013 + Windows 10 x64编译不起来，哪怕用了自带的GTK2库也会缺文件……懒得提Issue，没准还是我环境问题呢）。目前用的这个库功能太单纯了，不开心。

从后端方面看，这个项目的败笔如下：

 1. 设计的API不够```RESTful```，差评。
 2. 用的仍然是事件驱动的观察者设计模式，但是数据库直接暴露在外，完全没有做任何抽象和包装，这是这个工程的硬伤，也决定了这个工程要继续维护只能从头推翻的命运。下次我还是重新用PHP来写这个工程吧。
 3. ```passport```库挺好用的，就是官方文档实在是太low了，没examples根本看不懂调用方式，尽量少接触这种东西。
 4. 缓存部分，直接用内存当一个key-value缓存的话按照这个数据量还是够的，不过没有完善的超时机制之类只能当个列表用。下次玩玩```Redis```。
 5. ```logHash```的传递方式太恶心，这方面需要好好说道说道。
 6. 没有使用原型链继承```console```类，```log.log```太傻逼了。
 7. 数据库部分事件逻辑存在问题，几乎要掉入```Callback hell```。明明```require```了```async```没有用到，也就是流程没有整理清楚了。
 8. 代码太Dirty。

从前端方面看，反正这个项目前端处于次要地位，就随便说几句=_=

 1. 又尼玛用的```Bootstrap```不带任何主题，我要不要这么懒！！
 2. 本来想研究```React```，结果时间所迫还是用了```jQuery```。在```login.html```写原生，```print.html```里写```jQuery```，我也是醉了，不过至少没有在单文件里混写。
 3. 本来想用WebQR的相关技术研究扫描二维码的，最后还是用了这种下策。

就这样吧，这是一个不靠谱的服务器程序。当然了，那个弹幕服务器也只好一点罢了。